<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Chi Tiết Đơn Hàng</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h2 class="text-center">Chi Tiết Đơn Hàng</h2>
    <div class="card">
        <div class="card-body">
            <p><strong>ID Đơn Hàng:</strong> <span th:text="${order.id}"></span></p>
            <p><strong>Khách Hàng:</strong> <span th:text="${order.user.fullname}"></span></p>
            <p><strong>Ngày Đặt:</strong> <span th:text="${order.orderDate}"></span></p>
            <p><strong>Địa Chỉ:</strong> <span th:text="${order.address}"></span></p>
            <p><strong>Gmail:</strong> <span th:text="${order.user.email}"></span></p>
            <p><strong>SĐT:</strong> <span th:text="${order.user.phoneNumber}"></span></p>
            <p><strong>Trạng Thái:</strong> <span th:text="${order.status == 1 ? 'Đã thanh toán' : 'Chưa thanh toán'}"></span></p>
        </div>
    </div>

    <h3 class="mt-4">Sản Phẩm</h3>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>ID</th>
            <th>Tên Sản Phẩm</th>
            <th>Giá</th>
            <th>Số Lượng</th>
            <th>Tổng</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="detail : ${order.orderDetails}">
            <td th:text="${detail.id}"></td>
            <td th:text="${detail.product.ten}"></td>
            <td th:text="${#numbers.formatDecimal(detail.price, 0, 'COMMA', 0, 'POINT') + ' VNĐ'}"></td>
            <td th:text="${detail.quantity}"></td>
            <td th:text="${#numbers.formatDecimal(detail.price * detail.quantity, 0, 'COMMA', 0, 'POINT') + ' VNĐ'}"></td>
        </tr>
        <tr>
            <td colspan="4"><strong>Tổng tiền:</strong></td>
            <td th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 0, 'POINT') + ' VNĐ'}"></td>
        </tr>



        </tbody>
    </table>

    <a href="/donHang/form" class="btn btn-secondary">Quay Lại</a>
</div>
</body>
</html>
